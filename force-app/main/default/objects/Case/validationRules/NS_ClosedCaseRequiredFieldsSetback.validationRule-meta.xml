<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>NS_ClosedCaseRequiredFieldsSetback</fullName>
    <active>true</active>
    <description>This Validation Rule informs users of the blank fields they must complete prior to updating a Setback Case to Closed Status.</description>
    <errorConditionFormula>AND(ISPICKVAL(NS_InteractionReason__c,&#39;Setback&#39;) , ISPICKVAL(Status,&#39;NS_Closed&#39;) ,
RecordType.Name!=&#39;NS Internal&#39;,
NS_Created_using_Quick_Case__c &lt;&gt; True,

OR( ISBLANK(NS_CorrectiveAction__c) , ISBLANK(NS_ErrorLocation__c) , ISBLANK(NS_ForeignRailroad__c) , ISBLANK(NS_PACTICHD__c) , ISBLANK( NS_Equipment__c ) , ISBLANK(NS_ReasonForError__c) , ISBLANK(NS_SetbackAuthorizedDateTime__c) ))</errorConditionFormula>
    <errorMessage>Please complete Corrective Action, Error Location, Foreign Railroad, PACT/ICHD Date, Equipment Number(s), Reason for Error, and Setback Authorized prior to closing the Case.</errorMessage>
</ValidationRule>
