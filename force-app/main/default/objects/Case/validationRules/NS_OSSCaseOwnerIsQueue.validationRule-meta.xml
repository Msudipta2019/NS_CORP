<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>NS_OSSCaseOwnerIsQueue</fullName>
    <active>true</active>
    <description>This rule ensures that the Case Owner field on a Case record is a Queue and not a User when the Business Unit field on the Case = OSS.</description>
    <errorConditionFormula>AND(
OR(
   TEXT(Owner:User.Associated_Business_Unit__c)   = &#39;OSS&#39;,
   TEXT(Owner:User.Associated_Business_Unit__c)   = &#39;Automotive&#39;,
   TEXT(Owner:User.Associated_Business_Unit__c)   = &#39;Equipment Planning&#39;,
   TEXT(Owner:User.Associated_Business_Unit__c)   = &#39;Unit Train&#39;),
OwnerId = Owner:User.Id,
NOT(ISCHANGED(NS_Last_Activity_Time__c)),
NOT(ISCHANGED(NS_Counter_Activity__c))
)</errorConditionFormula>
    <errorDisplayField>OwnerId</errorDisplayField>
    <errorMessage>Please ensure the Case Owner of this Case is a Queue and not a User</errorMessage>
</ValidationRule>
